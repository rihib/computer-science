# Algorithmic Foundations

## 基本的なデータ構造とアルゴリズム

### ADT（抽象データ型）

ADT（Abstract Data Type）とは、具体的な実装は定義されておらず、単にどのような操作を持つかということのみが定義された抽象的なデータ型。例えば、スタックというADTはpush、popという操作を持つデータ型であるが、具体的な実装は規定されていない。他に、リスト、セット、辞書、キュー、ツリー、グラフなどもADTである。

例えばマップは、キーとそれに対応する値のペアを持ち、挿入（insert）、削除（delete）、検索（find）などの操作を持つADTだが、具体的な実装方法は規定されておらず、GoやPythonでは内部的にはハッシュテーブルを用いて実装されているのに対し、C++では平衡二分探索木（赤黒木）を用いて実装されている。

対してデータ型は、データの内部表現や操作方法がプログラミング言語やユーザーによって明確に定義されたデータ型である。例えば、int、float、charなどの基本データ（primitive）型や、配列、構造体、クラスなどの複合データ型、列挙型（Enum）などがデータ型であると言える。

### 配列

#### 数値配列と非数値配列、文字列

C++やRustでは、行列（matrix）との対比で、（１次元）配列のことをベクトル（vector）とも呼ぶ。データの追加や削除などの操作を持ち、特に末尾にデータを追加する操作をpush-back、末尾からデータを取り出す操作をpop-backと呼ぶ。

基本データ型としての配列型とクラスとしての配列型の２種類がある。基本データ型としての配列型はCの配列のように単なるアドレスでしかなく、対してクラスとしての配列型にはさまざまなメソッドが定義されており、基本データ型としての配列型をより便利に操作できるようにしたラッパーとなっている。

クラスとしての配列型には容量（capacity）というパラメータを指定でき、例えば要素は３つしか入っていないが、容量は８になっている場合などある。容量を超える要素を格納する必要がある場合は、新しくより大きい領域を用意して、すでにある要素をそこにコピーする必要がある。

新しい領域を用意する際に容量を１つしか増やさないとすると、要素の数が$n$個の場合、$n-1$回のコピーが必要になる。つまり$n-1$個の要素を追加する場合は合計で$0 + 1 + 2 + ... + n-1 = \frac{(n-1) \times n}{2}$回のコピーが必要になるため、$O(n^2)$の計算量がかかってしまう。

容量を倍ずつ増やすとすると、$n$個の要素を追加する場合は合計で$0 + 1 + 2 + ... + \log_2 n = O(n)$回のコピーで済む。そのため１回あたりのコピーにかかる平均時間は$O(1)$であり、償却定数時間になる。このように、配列の容量を倍ずつ増やすことをダブリング（doubling）と呼ぶ。

オブジェクトの参照のみをコピーする（参照先オブジェクトは同じものを指す）ことをshallow copyと呼び、オブジェクトの実体もコピーすることをdeep copyと呼ぶ。配列をコピーする際に、配列の要素がポインタやオブジェクトの参照である場合は、その参照先のオブジェクトはコピーされないため、配列のコピーはどちらかというとshallow copyであると言える。
